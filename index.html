<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pyshic Game</title>
</head>

<body>
    <html>
    <!---1. Have output for user instructions. -->
    <div id="game">
        <p>Guess what letter I'm thinking of </p>
        <p>Letters Guessed: <span id="letters-guessed-span"></span></p>
        <p>Guesses Left: <span id="guesses-left-span"></span></p>
        <p>Wins: <span id="wins-so-far-span"></span></p>
        <p>Losses: <span id="losses-so-far-span"></span></p>

    </div>

    <script type="text/javascript">
        // 2. Get user input. Obtain user input thru keypress. Store info in variable for later use. 

        var wins = 0;
        var losses = 0;
        var letterGuessed = [];
        var score = 0;
        var lossesScore = 0;
        var guessesRemaining = 5;

        //3. create an array that lists out all possible options (a-z??)
        var computerPick = "abcdefghijklmnopqrstuvwxyz"

        //    How user randomly selects a key
        var computerGuess = computerPick[Math.floor(Math.random() * computerPick.length)];
        console.log("Computer Guess = " + computerGuess);

        function updateScore() {
            document.getElementById("wins-so-far-span").textContent = score;
            document.getElementById("losses-so-far-span").textContent = lossesScore;
            document.getElementById("guesses-left-span").textContent = guessesRemaining;
            document.getElementById("letters-guessed-span").textContent = letterGuessed.join(" ");

        }

        // Function is ran whenever user presses a key. 
        document.onkeyup = function (event) {
            // Determine which key was pressed 
            var userGuess = event.key;
            console.log("user Guess is " + userGuess);

            // 4. Compare guesses against one and determine results- Solution- Using Conditional statements 

            // Function that updates the score...
           
            // If they guess the correct answer, increase and update score, alert them they got it right.
            if (userGuess == computerGuess) {
                alert("Correct!");
                score++;
                guessesRemaining = 5;
                letterGuessed = [];
                computerGuess = computerPick[Math.floor(Math.random() * computerPick.length)];
                console.log("Computer Guess = " + computerGuess);
                updateScore();
                
            }
            // If wrong, alert them they are wrong.
            else {
                alert("Wrong!");
                guessesRemaining--;
                
                if(guessesRemaining == 0) {
                    guessesRemaining = 5;
                    lossesScore++;
                    letterGuessed = [];
                    computerGuess = computerPick[Math.floor(Math.random() * computerPick.length)];
                    console.log("Computer Guess = " + computerGuess);
                } else {
                    letterGuessed.push(userGuess);
                }

                updateScore();
            }
            
        }
    </script>

</body>

</html>